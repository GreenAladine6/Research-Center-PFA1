<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />

  <title>Chain App Dev - Publications</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="assets/css/templatemo-chain-app-dev.css" />
  <link rel="stylesheet" href="assets/css/animated.css" />
  <link rel="stylesheet" href="assets/css/owl.css" />

  <style>
    /* Improve card hover effect */
    .card:hover {
      box-shadow: 0 8px 16px rgba(75, 142, 241, 0.3);
      transform: translateY(-5px);
      transition: all 0.3s ease;
    }

    /* Modal form improvements */
    .modal-content {
      border-radius: 8px;
    }

    .modal-header {
      background-color: #4b8ef1;
      color: white;
      border-bottom: none;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    .btn-primary {
      background-color: #4b8ef1;
      border-color: #4b8ef1;
    }

    .btn-primary:hover {
      background-color: #3a6fcc;
      border-color: #3a6fcc;
    }

    /* Responsive adjustments */
    @media (max-width: 576px) {
      main h1 {
        font-size: 1.8rem;
        text-align: center;
      }
    }
  </style>
</head>

<body>
  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo Start ***** -->
            <a href="index.html" class="logo">
              <img src="assets/images/logo.png" alt="Chain App Dev" />
            </a>
            <!-- ***** Logo End ***** -->
            <!-- ***** Menu Start ***** -->
            <ul class="nav">
              <li class="scroll-to-section"><a href="index.html">Home</a></li>
              <li class="scroll-to-section"><a href="events.html">Events</a></li>
              <li class="scroll-to-section"><a href="project.html">Project</a></li>
              <li class="scroll-to-section"><a href="staff.html">Staff</a></li>
              <li class="scroll-to-section"><a href="pubs.html" class="active">Publications</a></li>
              <li class="scroll-to-section"><a href="about-us.html">About Us</a></li>
              <li class="scroll-to-section"><a href="contact_us.html">Contact</a></li>
            </ul>
            <a class="menu-trigger">
              <span>Menu</span>
            </a>
            <!-- ***** Menu End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <main style="padding-top: 150px;">
    <h1 class="text-center mb-4">Publications</h1>
    <div class="container mt-4">
      <div class="mb-3">
        <label for="publication-input" class="form-label">Search Publications:</label>
        <div class="input-group" style="max-width: 300px;">
          <span class="input-group-text" style="background-color: white; border-right: none;">
            <i class="fas fa-book" style="color: #4b8ef1;"></i>
          </span>
          <input type="text" id="publication-input" name="publication" placeholder="Enter publication title" class="form-control" style="border-left: none;" />
        </div>
      </div>
      <div id="content-container" class="row">
        <!-- Initial 3 publication cards -->
        <div class="col-12 mb-4 initial-publication">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Publication Title 1</h5>
              <p class="card-text">This is a brief description of the publication. It highlights key points and findings.</p>
              <a href="#" class="btn btn-primary">Read More</a>
            </div>
          </div>
        </div>
        <div class="col-12 mb-4 initial-publication">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Publication Title 2</h5>
              <p class="card-text">This is a brief description of the publication. It highlights key points and findings.</p>
              <a href="#" class="btn btn-primary">Read More</a>
            </div>
          </div>
        </div>
        <div class="col-12 mb-4 initial-publication">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Publication Title 3</h5>
              <p class="card-text">This is a brief description of the publication. It highlights key points and findings.</p>
              <a href="#" class="btn btn-primary">Read More</a>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center mt-3">
        <button type="button" id="publication-more-btn" class="btn btn-secondary">More</button>
        <button type="button" id="publication-less-btn" class="btn btn-secondary ms-2" disabled>Less</button>
        <button type="button" class="btn btn-success ms-2" data-bs-toggle="modal" data-bs-target="#addPublicationModal">Add New</button>
      </div>
    </div>
  </main>

  <!-- Add Publication Modal -->
  <div class="modal fade" id="addPublicationModal" tabindex="-1" aria-labelledby="addPublicationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="addPublicationForm">
          <div class="modal-header">
            <h5 class="modal-title" id="addPublicationModalLabel">Add New Publication</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="publicationTitle" class="form-label">Title</label>
              <input type="text" class="form-control" id="publicationTitle" name="title" required />
            </div>
            <div class="mb-3">
              <label for="publicationDescription" class="form-label">Description</label>
              <textarea class="form-control" id="publicationDescription" name="description" rows="3" required></textarea>
            </div>
            <div class="mb-3">
              <label for="publicationLink" class="form-label">Link</label>
              <input type="url" class="form-control" id="publicationLink" name="link" />
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Add Publication</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <style>
    .d-none {
      display: none !important;
    }
  </style>

  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="copyright-text">
            <p>Copyright Â© 2023 Your Organization Name. All Rights Reserved.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/animation.js"></script>
  <script src="assets/js/imagesloaded.js"></script>
  <script src="assets/js/popup.js"></script>
  <script src="assets/js/custom.js"></script>

  <script>
    $(document).ready(function() {
      let publicationCounter = 3; // Tracks the number of publication cards added

      // Search functionality
      $('#publication-input').on('input', function() {
        const filter = this.value.toLowerCase();
        const publicationCards = $('#content-container .col-12');
        publicationCards.each(function() {
          const title = $(this).find('.card-title').text().toLowerCase();
          if (title.includes(filter)) {
            $(this).show();
          } else {
            $(this).hide();
          }
        });
      });

      // Function to add three new publication cards
      function addPublicationCards() {
        for (let i = 0; i < 3; i++) {
          publicationCounter++;
          const newPublication = `
            <div class="col-12 mb-4 added-publication" data-publication-id="${publicationCounter}">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Publication Title ${publicationCounter}</h5>
                  <p class="card-text">This is a brief description of publication ${publicationCounter}. It highlights key points and findings.</p>
                  <a href="#" class="btn btn-primary">Read More</a>
                </div>
              </div>
            </div>
          `;
          $('#content-container').append(newPublication);
        }
        // Enable the Less button when new publications are added
        $('#publication-less-btn').prop('disabled', false);
      }

      // Remove any existing click handlers and attach a new one for More button
      $('#publication-more-btn').off('click').on('click', addPublicationCards);

      // Function to remove the last three added publication cards
      $('#publication-less-btn').off('click').on('click', function() {
        // Select the last three added publications
        const addedPublications = $('.added-publication').slice(-3);
        if (addedPublications.length > 0) {
          addedPublications.remove();
          publicationCounter -= addedPublications.length;
        }
        // Disable the Less button if only initial publications remain
        if ($('.added-publication').length === 0) {
          $('#publication-less-btn').prop('disabled', true);
        }
      });

      // Handle form submission for adding new publication
      $('#addPublicationForm').on('submit', function(e) {
        e.preventDefault();
        const title = $('#publicationTitle').val();
        const description = $('#publicationDescription').val();
        const link = $('#publicationLink').val();
        
        publicationCounter++;
        const newPublication = `
          <div class="col-12 mb-4 added-publication" data-publication-id="${publicationCounter}">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">${title}</h5>
                <p class="card-text">${description}</p>
                ${link ? `<a href="${link}" class="btn btn-primary" target="_blank">Read More</a>` : '<a href="#" class="btn btn-primary">Read More</a>'}
              </div>
            </div>
          </div>
        `;
        $('#content-container').append(newPublication);
        
        // Enable the Less button
        $('#publication-less-btn').prop('disabled', false);
        
        // Reset and close the modal
        $('#addPublicationForm')[0].reset();
        $('#addPublicationModal').modal('hide');
      });
    });
  </script>
</body>
</html>